function require(a){var b=require.modules[a]||require.modules[a+".js"]||require.modules[a+"/index"]||require.modules[a+"/index.js"];if(!b)throw new Error("Cannot find module '"+a+"'");return b._cached?b._cached:b()}var _browserifyRequire=require;require.paths=[],require.modules={},require.fromFile=function(a,b){var c=_browserifyRequire.resolve(a,b);return _browserifyRequire(c)},require.resolve=function(a,b){if(!b.match(/^[\.\/]/))return b;if(b.match(/^\//))return b;var c=a.match(/^[\.\/]/)?a.replace(/[^\/]+$/,""):a;c===""&&(c=".");var d=/[^\/.]+\/\.\./g,e=/\/{2,}/g;for(var f=b;f.match(d)!=null||f.match(e)!=null;f=f.replace(d,"").replace(e,"/"));while(f.match(/^\.\.\//)){if(c==="/"||c==="")throw new Error("Couldn't resolve path'"+b+"' with respect to filename '"+a+"': "+"file can't resolve past base");f=f.replace(/^\.\.\//,""),c=c.replace(/[^\/]+\/$/,"")}var g=c.match(/\//)?c.replace(/[^\/]+$/,"")+f:f.replace(/^\.\//,c+"/");return g.replace(/\/.\//,"/")},typeof process=="undefined"&&(process={nextTick:function(a){setTimeout(a,0)},title:"browser"}),function(a){var b=Object.prototype.hasOwnProperty;Array.isArray||(Array.isArray=function(a){return Object.prototype.toString.call(a)=="[object Array]"}),Array.prototype.forEach||(Array.prototype.forEach=function(a,b){var c=this.length>>>0;for(var d=0;d<c;d++)d in this&&a.call(b,this[d],d,this)}),Array.prototype.map||(Array.prototype.map=function(a){var b=this.length>>>0;if(typeof a!="function")throw new TypeError;var c=Array(b),d=arguments[1];for(var e=0;e<b;e++)e in this&&(c[e]=a.call(d,this[e],e,this));return c}),Array.prototype.filter||(Array.prototype.filter=function(a){var b=[],c=arguments[1];for(var d=0;d<this.length;d++)a.call(c,this[d])&&b.push(this[d]);return b}),Array.prototype.every||(Array.prototype.every=function(a){var b=arguments[1];for(var c=0;c<this.length;c++)if(!a.call(b,this[c]))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(a){var b=arguments[1];for(var c=0;c<this.length;c++)if(a.call(b,this[c]))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(a){var b=this.length>>>0;if(typeof a!="function")throw new TypeError;if(b==0&&arguments.length==1)throw new TypeError;var c=0;if(arguments.length>=2)var d=arguments[1];else for(;;){if(c in this){d=this[c++];break}if(++c>=b)throw new TypeError}for(;c<b;c++)c in this&&(d=a.call(null,d,this[c],c,this));return d}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(a){var b=this.length>>>0;if(typeof a!="function")throw new TypeError;if(b==0&&arguments.length==1)throw new TypeError;var c=b-1;if(arguments.length>=2)var d=arguments[1];else for(;;){if(c in this){d=this[c--];break}if(--c<0)throw new TypeError}for(;c>=0;c--)c in this&&(d=a.call(null,d,this[c],c,this));return d}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a){var c=this.length;if(!c)return-1;var d=arguments[1]||0;if(d>=c)return-1;d<0&&(d+=c);for(;d<c;d++){if(!b.call(this,d))continue;if(a===this[d])return d}return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(a){var c=this.length;if(!c)return-1;var d=arguments[1]||c;d<0&&(d+=c),d=Math.min(d,c-1);for(;d>=0;d--){if(!b.call(this,d))continue;if(a===this[d])return d}return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(a){return a.__proto__||a.constructor.prototype}),Object.getOwnPropertyDescriptor||(Object.getOwnPropertyDescriptor=function(c){if(typeof c!="object"&&typeof c!="function"||c===null)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object");return b.call(c,property)?{value:c[property],enumerable:!0,configurable:!0,writeable:!0}:a}),Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(a){return Object.keys(a)}),Object.create||(Object.create=function(a,b){var c;if(a===null)c={"__proto__":null};else{if(typeof a!="object")throw new TypeError("typeof prototype["+typeof a+"] != 'object'");var d=function(){};d.prototype=a,c=new d}typeof b!="undefined"&&Object.defineProperties(c,b);return c}),Object.defineProperty||(Object.defineProperty=function(a,c,d){if(typeof d=="object"&&a.__defineGetter__){if(b.call(d,"value")){!a.__lookupGetter__(c)&&!a.__lookupSetter__(c)&&(a[c]=d.value);if(b.call(d,"get")||b.call(d,"set"))throw new TypeError("Object doesn't support this action")}else typeof d.get=="function"&&a.__defineGetter__(c,d.get);typeof d.set=="function"&&a.__defineSetter__(c,d.set)}return a}),Object.defineProperties||(Object.defineProperties=function(a,c){for(var d in c)b.call(c,d)&&Object.defineProperty(a,d,c[d]);return a}),Object.seal||(Object.seal=function(a){return a}),Object.freeze||(Object.freeze=function(a){return a});try{Object.freeze(function(){})}catch(c){Object.freeze=function(a){return function(b){return typeof b=="function"?b:a(b)}}(Object.freeze)}Object.preventExtensions||(Object.preventExtensions=function(a){return a}),Object.isSealed||(Object.isSealed=function(a){return!1}),Object.isFrozen||(Object.isFrozen=function(a){return!1}),Object.isExtensible||(Object.isExtensible=function(a){return!0});if(!Object.keys){var d=!0,e=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=e.length;for(var g in{toString:null})d=!1;Object.keys=function(a){if(typeof a!="object"&&typeof a!="function"||a===null)throw new TypeError("Object.keys called on a non-object");var c=[];for(var g in a)b.call(a,g)&&c.push(g);if(d)for(var h=0,i=f;h<i;h++){var j=e[h];b.call(a,j)&&c.push(j)}return c}}Date.prototype.toISOString||(Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+(this.getUTCMonth()+1)+"-"+this.getUTCDate()+"T"+this.getUTCHours()+":"+this.getUTCMinutes()+":"+this.getUTCSeconds()+"Z"}),Date.now||(Date.now=function(){return(new Date).getTime()}),Date.prototype.toJSON||(Date.prototype.toJSON=function(a){if(typeof this.toISOString!="function")throw new TypeError;return this.toISOString()}),isNaN(Date.parse("T00:00"))&&(Date=function(b){var c=function(a,d,e,f,g,h,i){var j=arguments.length;if(this instanceof b){var k=j===1&&String(a)===a?new b(c.parse(a)):j>=7?new b(a,d,e,f,g,h,i):j>=6?new b(a,d,e,f,g,h):j>=5?new b(a,d,e,f,g):j>=4?new b(a,d,e,f):j>=3?new b(a,d,e):j>=2?new b(a,d):j>=1?new b(a):new b;k.constructor=c;return k}return b.apply(this,arguments)},d=new RegExp("^(?:((?:[+-]\\d\\d)?\\d\\d\\d\\d)(?:-(\\d\\d)(?:-(\\d\\d))?)?)?(?:T(\\d\\d):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d\\d\\d))?)?)?(?:Z|([+-])(\\d\\d):(\\d\\d))?$");for(var e in b)c[e]=b[e];c.now=b.now,c.UTC=b.UTC,c.prototype=b.prototype,c.prototype.constructor=c,c.parse=function(c){var e=d.exec(c);if(e){e.shift();var f=e[0]===a;for(var g=0;g<10;g++){if(g===7)continue;e[g]=+(e[g]||(g<3?1:0)),g===1&&e[g]--}if(f)return((e[3]*60+e[4])*60+e[5])*1e3+e[6];var h=(e[8]*60+e[9])*60*1e3;e[6]==="-"&&(h=-h);return b.UTC.apply(this,e.slice(0,7))+h}return b.parse.apply(this,arguments)};return c}(Date));var h=Array.prototype.slice;Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if(typeof b.apply!="function"||typeof b.call!="function")return new TypeError;var c=h.call(arguments),d=function(){if(this instanceof d){var a=Object.create(b.prototype);b.apply(a,c.concat(h.call(arguments)));return a}return b.call.apply(b,c.concat(h.call(arguments)))};d.bound=b,d.boundTo=a,d.boundArgs=c,d.length=typeof b=="function"?Math.max(b.length-c.length,0):0;return d});if(!String.prototype.trim){var i=/^\s\s*/,j=/\s\s*$/;String.prototype.trim=function(){return String(this).replace(i,"").replace(j,"")}}}(),_browserifyRequire.modules.events=function(){var a={exports:{}},b=a.exports,c=".",d="events.js",e=function(a){return _browserifyRequire.fromFile("events",a)};(function(){process.EventEmitter||(process.EventEmitter=function(){});var a=b.EventEmitter=process.EventEmitter,c=Array.isArray,d=10;a.prototype.setMaxListeners=function(a){this._events.maxListeners=a},a.prototype.emit=function(a){if(a==="error")if(!this._events||!this._events.error||c(this._events.error)&&!this._events.error.length)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var b=this._events[a];if(!b)return!1;if(typeof b=="function"){switch(arguments.length){case 1:b.call(this);break;case 2:b.call(this,arguments[1]);break;case 3:b.call(this,arguments[1],arguments[2]);break;default:var d=Array.prototype.slice.call(arguments,1);b.apply(this,d)}return!0}if(c(b)){var d=Array.prototype.slice.call(arguments,1),e=b.slice();for(var f=0,g=e.length;f<g;f++)e[f].apply(this,d);return!0}return!1},a.prototype.addListener=function(a,b){if("function"!=typeof b)throw new Error("addListener only takes instances of Function");this._events||(this._events={}),this.emit("newListener",a,b);if(!this._events[a])this._events[a]=b;else if(c(this._events[a])){if(!this._events[a].warned){var e;this._events.maxListeners!==undefined?e=this._events.maxListeners:e=d,e&&e>0&&this._events[a].length>e&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),console.trace())}this._events[a].push(b)}else this._events[a]=[this._events[a],b];return this},a.prototype.on=a.prototype.addListener,a.prototype.once=function(a,b){var c=this;c.on(a,function d(){c.removeListener(a,d),b.apply(this,arguments)});return this},a.prototype.removeListener=function(a,b){if("function"!=typeof b)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[a])return this;var d=this._events[a];if(c(d)){var e=d.indexOf(b);if(e<0)return this;d.splice(e,1),d.length==0&&delete this._events[a]}else this._events[a]===b&&delete this._events[a];return this},a.prototype.removeAllListeners=function(a){a&&this._events&&this._events[a]&&(this._events[a]=null);return this},a.prototype.listeners=function(a){this._events||(this._events={}),this._events[a]||(this._events[a]=[]),c(this._events[a])||(this._events[a]=[this._events[a]]);return this._events[a]}}).call(a.exports),_browserifyRequire.modules.events._cached=a.exports;return a.exports},_browserifyRequire.modules.fs=function(){var a={exports:{}},b=a.exports,c=".",d="fs.js",e=function(a){return _browserifyRequire.fromFile("fs",a)};(function(){}).call(a.exports),_browserifyRequire.modules.fs._cached=a.exports;return a.exports},_browserifyRequire.modules.json_shim=function(){var module={exports:{}},exports=module.exports,__dirname=".",__filename="json_shim.js",require=function(a){return _browserifyRequire.fromFile("json_shim",a)};(function(){typeof JSON=="undefined"&&(JSON={}),function(){function str(a,b){var c,d,e,f,g=gap,h,i=b[a];i&&typeof i=="object"&&typeof i.toJSON=="function"&&(i=i.toJSON(a)),typeof rep=="function"&&(i=rep.call(b,a,i));switch(typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";gap+=indent,h=[];if(Object.prototype.toString.apply(i)==="[object Array]"){f=i.length;for(c=0;c<f;c+=1)h[c]=str(c,i)||"null";e=h.length===0?"[]":gap?"[\n"+gap+h.join(",\n"+gap)+"\n"+g+"]":"["+h.join(",")+"]",gap=g;return e}if(rep&&typeof rep=="object"){f=rep.length;for(c=0;c<f;c+=1)typeof rep[c]=="string"&&(d=rep[c],e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e))}else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e));e=h.length===0?"{}":gap?"{\n"+gap+h.join(",\n"+gap)+"\n"+g+"}":"{"+h.join(",")+"}",gap=g;return e}}function quote(a){escapable.lastIndex=0;return escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return typeof b=="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function f(a){return a<10?"0"+a:a}"use strict",typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(a,b,c){var d;gap="",indent="";if(typeof c=="number")for(d=0;d<c;d+=1)indent+=" ";else typeof c=="string"&&(indent=c);rep=b;if(b&&typeof b!="function"&&(typeof b!="object"||typeof b.length!="number"))throw new Error("JSON.stringify");return str("",{"":a})}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&typeof e=="object")for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),d!==undefined?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver=="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")})}()}).call(module.exports),_browserifyRequire.modules.json_shim._cached=module.exports;return module.exports},_browserifyRequire.modules.path=function(){var a={exports:{}},b=a.exports,c=".",d="path.js",e=function(a){return _browserifyRequire.fromFile("path",a)};(function(){function a(a,b){var c=0;for(var d=a.length;d>=0;d--){var e=a[d];e=="."?a.splice(d,1):e===".."?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c--;c)a.unshift("..");return a}var c=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;b.resolve=function(){var b="",c=!1;for(var d=arguments.length;d>=-1&&!c;d--){var e=d>=0?arguments[d]:process.cwd();if(typeof e!="string"||!e)continue;b=e+"/"+b,c=e.charAt(0)==="/"}b=a(b.split("/").filter(function(a){return!!a}),!c).join("/");return(c?"/":"")+b||"."},b.normalize=function(b){var c=b.charAt(0)==="/",d=b.slice(-1)==="/";b=a(b.split("/").filter(function(a){return!!a}),!c).join("/"),!b&&!c&&(b="."),b&&d&&(b+="/");return(c?"/":"")+b},b.join=function(){var a=Array.prototype.slice.call(arguments,0);return b.normalize(a.filter(function(a,b){return a&&typeof a=="string"}).join("/"))},b.dirname=function(a){var b=c.exec(a)[1]||"";return b?b.length===1||isWindows&&b.length<=3&&b.charAt(1)===":"?b:b.substring(0,b.length-1):"."},b.basename=function(a,b){var d=c.exec(a)[2]||"";b&&d.substr(-1*b.length)===b&&(d=d.substr(0,d.length-b.length));return d},b.extname=function(a){return c.exec(a)[3]||""}}).call(a.exports),_browserifyRequire.modules.path._cached=a.exports;return a.exports},_browserifyRequire.modules["./chat"]=function(){var a={exports:{}},b=a.exports,c=".",d="./chat.coffee",e=function(a){return _browserifyRequire.fromFile("./chat",a)};(function(){(function(){var a,d,f,g;d=e("./lib/vers")(),g=b.utils=d.utils,a=d.model,f=d.view,g.onServer&&(a.init({users:{},messages:[],_session:{userId:0,user:a.ref("users","_session.userId"),newComment:"",title:a.func("title")}}),f.make("Title",{model:"_session.title"}),e("fs").readFile(""+c+"/chat.styl","utf8",function(a,b){return e("stylus").render(b,{compress:!0},function(a,b){return f.make("Head",'<meta name=viewport content="width=device-width">\n<style>'+b+"</style>")})}),f.make("Body",{messages:{model:"messages",view:"message"},userPicUrl:{model:"_session.user.picUrl"},userName:{model:"_session.user.name"},newComment:{model:"_session.newComment"}},"<div id=messageContainer><ul id=messageList>{{{messages}}}</ul></div>\n<div id=foot>\n  <img id=inputPic src={{{userPicUrl}}} class=pic>\n  <div id=inputs>\n    <input id=inputName value={{userName}}>\n    <form id=inputForm action=javascript:chat.postMessage()>\n      <input id=commentInput value={{newComment}} silent>\n    </form>\n  </div>\n</div>"),f.preLoad(function(){var a,b,c,d;a=$("messageContainer"),b=$("foot"),c=$("messageList"),d=function(){a.style.height=window.innerHeight-b.offsetHeight+"px";return a.scrollTop=c.offsetHeight},d(),window.onresize=d;return $("commentInput").focus()})),a.makeFunc("title",["messages","_session.user.name"],function(a,b){return"Chat ("+a.length+") - "+b}),f.make("message",function(a){return{userPicUrl:{model:"users."+a.userId+".picUrl"},userName:{model:"users."+a.userId+".name"},comment:a.comment}},"<li><img src={{{userPicUrl}}} class=pic>\n  <div class=message>\n    <p><b>{{userName}}</b>\n    <p>{{comment}}\n  </div>",{after:function(){return $("messageContainer").scrollTop=$("messageList").offsetHeight}}),b.postMessage=function(){a.push("messages",{userId:a.get("_session.userId"),comment:a.get("_session.newComment")});return a.set("_session.newComment","")}}).call(this)}).call(a.exports),_browserifyRequire.modules["./chat"]._cached=a.exports;return a.exports},_browserifyRequire.modules["./chat"]=function(){var a={exports:{}},b=a.exports,c=".",d="./chat.js",e=function(a){return _browserifyRequire.fromFile("./chat",a)};(function(){var d,f,g,h;f=e("vers")(a,b),h=b.utils=f.utils,d=f.model,g=f.view,h.onServer&&(d.init({users:{},messages:[],_session:{userId:0,user:d.ref("users","_session.userId"),newComment:"",title:d.func("title")}}),g.make("Title",{model:"_session.title"}),e("fs").readFile(""+c+"/chat.styl","utf8",function(a,b){return e("stylus").render(b,{compress:!0},function(a,b){return g.make("Head",'<meta name=viewport content="width=device-width">\n<style>'+b+"</style>")})}),g.make("Body",{messages:{model:"messages",view:"message"},userPicUrl:{model:"_session.user.picUrl"},userName:{model:"_session.user.name"},newComment:{model:"_session.newComment"}},"<div id=messageContainer><ul id=messageList>{{{messages}}}</ul></div>\n<div id=foot>\n  <img id=inputPic src={{{userPicUrl}}} class=pic>\n  <div id=inputs>\n    <input id=inputName value={{userName}}>\n    <form id=inputForm action=javascript:chat.postMessage()>\n      <input id=commentInput value={{newComment}} silent>\n    </form>\n  </div>\n</div>"),g.preLoad(function(){var a,b,c,d;a=$("messageContainer"),b=$("foot"),c=$("messageList"),d=function(){a.style.height=window.innerHeight-b.offsetHeight+"px";return a.scrollTop=c.offsetHeight},d(),window.onresize=d;return $("commentInput").focus()})),d.makeFunc("title",["messages","_session.user.name"],function(a,b){return"Chat ("+a.length+") - "+b}),g.make("message",function(a){return{userPicUrl:{model:"users."+a.userId+".picUrl"},userName:{model:"users."+a.userId+".name"},comment:a.comment}},"<li><img src={{{userPicUrl}}} class=pic>\n  <div class=message>\n    <p><b>{{userName}}</b>\n    <p>{{comment}}\n  </div>",{after:function(){return $("messageContainer").scrollTop=$("messageList").offsetHeight}}),b.postMessage=function(){d.push("messages",{userId:d.get("_session.userId"),comment:d.get("_session.newComment")});return d.set("_session.newComment","")}}).call(a.exports),_browserifyRequire.modules["./chat"]._cached=a.exports;return a.exports}